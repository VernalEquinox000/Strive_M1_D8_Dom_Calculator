<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width, initial-scale=1.0" />
        <title>Calculator</title>





<style>
    body {background-color: #181818;
    margin:0}

    #calculator {
        height:100vh;
        display:flex;
        align-items: center;
        justify-content: center;

    }


    input[type="button"],
    #result {font-size:60px}

    input[type="button"] {
        width:100px;
        height:100px;
    }


    .numericButton,
    .functionButton,
    #result {
        border:none;
    }

    #result {
        text-align: right;
        width: 100%;
        max-width: 412px;
        padding: 0 1rem;
        color: #181818;
        background-color: rgb(239,239,239);
    }

    .functionButton:active,
    .numericButton:active {
        box-shadow:inset 0 4px 3px rgba (0,0,0,0.2)
    }

    .functionButton:active {
        background-color: #df314b;
    }

    .numericButton:active {
        background-color: #dfdfdf;
    }


    .numericButton{color: #181818;}

    .functionButton{background-color:  #ef3d59;}

    .functionButton.focus,
    .numericButton.focus {
        outline:none;
    }

</style>


</head>


    <body>
        <div id="calculator">
            <table>
                <tr>
                    <td colspan="4">
                        <input type="text" id="result" value="0" disabled />
                    </td>
                </tr>
                <tr>
                    <td>
                        <input type="button" class="numericButton" value="7" />
                    </td>
                    <td>
                        <input type="button" class="numericButton" value="8" />
                    </td>
                    <td>
                        <input type="button" class="numericButton" value="9" />
                    </td>
                    <td>
                    <input type="button" class="numericButton" value="*" />
                </td>
                </tr>
                <tr>
                    <td>
                        <input type="button" class="numericButton" value="4" />
                    </td>
                    <td>
                        <input type="button" class="numericButton" value="5" />
                    </td>
                    <td>
                        <input type="button" class="numericButton" value="6" />
                    </td>
                    <td>
                        <input type="button" class="numericButton" value="-" />
                    </td>
                </tr>
                <tr>
                    <td>
                        <input type="button" class="numericButton" value="1" />
                    </td>
                    <td>
                        <input type="button" class="numericButton" value="2" />
                    </td>
                    <td>
                        <input type="button" class="numericButton" value="3" />
                    </td>
                    <td>
                        <input type="button" class="numericButton" value="+" />
                    </td>
                </tr>
                <tr>
                        <td>
                            <input type="button" class="numericButton" value="C" />
                        </td>
                        <td>
                            <input type="button" class="numericButton" value="0" />
                        </td>
                        <td>
                            <input type="button" class="numericButton" value="=" />
                        </td>
                        <td>
                            <input type="button" class="numericButton" value="/" />
                        </td>
                        </tr>
                



            </table>
        </div>

        <script>
            window.addEventListener("DOMContentLoaded", function()  {

                //MEMORY OF OUR APPLICATION
                    let operation ="";
                    let previousResult = 0; //first operand, where we do save the result
                    const result = document.getElementById("result")

                    const sum = function(x,y) {
                        return x + y;
                    }

                    const dff = function (x,y) {
                        return x-y;
                    }

                    const mul = function (x,y)  {
                        return x*y;
                    }

                    const div = function (x,y) {
                        return x/y;
                    }



                //line below added after for let button of functionbuttons and add the "e" in them
                const numericButtonPressed = function (event){
                    const numberPressed = event.target.value //console log event, then event.target and event.target.value  to check the process and valeus
                    const result=document.getElementById("result");
                    //result.value=numberPressed; we need to concat the strings because now they change everytime so we add the if
                    if (result.value==="0") {
                        result.value=numberPressed;}
                    else {
                        result.value+=numberPressed
                    }
                }    ;
                const functionButtonPressed = function(event){
                    const keyPressed = event.target.value;
                    console.log(keyPressed) ;



                        switch (keyPressed){
                            case "=":
                                switch(operation) {
                                    case "+":
                                    result.value = sum( previousResult, parseFloat(result.value))
                                    break;
                                    case "-":
                                    result.value = diff (previousResult, parseFloat(result.value))
                                    break;
                                    case "*":
                                    result.value = mul( previousResult, parseFloat(result.value))
                                    break;
                                    case "/": 
                                    result.value = div (previousResult, parseFloat(result.value))
                                    break;
                                }



                                break;

                            case "C":
                                result.value="0";
                                previousResult = "0";
                                operation = "";
                                console.log("previousResult", previousResult)
                                console.log("operation", operation)
                                break;

                            default: 
                                //console.log("I'm the default conditionm")
                                previousResult=parseFloat(result.value);
                                console.log("previousResult",previousResult)

                                //previousResult = parseFloat(result.value)

                                operation = keyPressed
                                console.log("operation",operation)

                                result.value="0" //resetting value
                    }
                }
                

                const numericButtons = document.getElementsByClassName("numericButton");
                
                const functionButtons = document.getElementsByClassName("functionButton");
                
            //console.log(numericButton)
            //console.log(functionButton)


                for (let button of numericButtons) {
                    console.log(button);
                    button.addEventListener("click", /*function(e) {})*/ numericButtonPressed)
                }

                for (let button of functionButtons){
                    button.addEventListener("click", functionButtonPressed)
                }

            });

            //console.log(numericButton)
            //console.log(functionButton)
        


        </script>



    </body>
</html>